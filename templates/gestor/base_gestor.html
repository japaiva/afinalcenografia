{% extends 'base.html' %}

{% block title %}Portal do Gestor | Afinal Cenografia{% endblock %}

{% block navbar_title %}<span style="font-weight: 600; letter-spacing: 1px; color: #e0f2fe; text-transform: uppercase; margin-left: 12px; font-size: 1.05rem; text-shadow: 0 1px 2px rgba(0,0,0,0.2); border-left: 2px solid #60a5fa; padding-left: 10px;">Portal do Gestor</span>{% endblock %}

{% block nav_items %}
<li class="nav-item">
    <a class="nav-link {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}" href="{% url 'gestor:dashboard' %}">
      Dashboard
    </a>
  </li>
  

<!-- Divisor vertical -->
<li class="nav-item">
  <span class="nav-link" style="border-left: 2px solid #60a5fa; height: 24px; margin: 8px 15px;"></span>
</li>

<!-- Menu de Configurações -->
<li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle {% if 'empresa' in request.resolver_match.url_name or 'usuario' in request.resolver_match.url_name or 'parametro' in request.resolver_match.url_name %}active{% endif %}" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
      Configurações
    </a>
    <ul class="dropdown-menu dropdown-menu-dark">
      <!-- Seção de Empresas -->
      <li><h6 class="dropdown-header">Empresas</h6></li>
      <li><a class="dropdown-item" href="{% url 'gestor:empresa_list' %}">
        Listar Empresas
      </a></li>
      <li><a class="dropdown-item" href="{% url 'gestor:empresa_create' %}">
        Nova Empresa
      </a></li>
      
      <li><hr class="dropdown-divider"></li>
      
      <!-- Seção de Usuários -->
      <li><h6 class="dropdown-header">Usuários</h6></li>
      <li><a class="dropdown-item" href="{% url 'gestor:usuario_list' %}">
        Listar Usuários
      </a></li>
      <li><a class="dropdown-item" href="{% url 'gestor:usuario_create' %}">
        Novo Usuário
      </a></li>
      
      {% if user.nivel == 'admin' %}
      <li><hr class="dropdown-divider"></li>
      
      <!-- Seção de Parâmetros (apenas para admin) -->
      <li><h6 class="dropdown-header">Parâmetros</h6></li>
      <li><a class="dropdown-item" href="{% url 'gestor:parametro_list' %}">
        Listar Parâmetros
      </a></li>
      <li><a class="dropdown-item" href="{% url 'gestor:parametro_create' %}">
        Novo Parâmetro
      </a></li>
      {% endif %}
    </ul>
  </li>
{% endblock %}